# GymTracker - 筋トレ記録アプリ

PySide6とSQLiteを使用した個人向け筋トレ記録・成長追跡デスクトップアプリケーション

## 🏋️‍♂️ 機能

### 基本機能
- **トレーニング記録**: 種目選択、重量・回数・セット数記録、1RM自動計算
- **履歴管理**: 日付別トレーニング履歴表示、種目別・部位別フィルタリング、検索機能
- **統計表示**: ベスト記録一覧、連続ジム通い日数、月別頻度

### 高度機能
- **成長可視化**: 重量推移グラフ、1RM推移グラフ、種目別成長比較
- **目標管理**: 月間目標設定、目標達成率表示、進捗通知、達成可能通知
- **分析機能**: 停滞期検知、週別・月別頻度分析、部位別分析、成長通知
- **体組成管理**: 体重・体脂肪率・筋肉量記録と推移グラフ

## 📦 インストール・実行

### 必要な環境
- Python 3.8以上
- Windows/Mac/Linux対応

### インストール手順

1. **リポジトリクローンまたはダウンロード**
```bash
git clone https://github.com/yourusername/gym-tracker.git
cd gym_tracker
```

2. **依存関係インストール**
```bash
pip install -r requirements.txt
```

3. **アプリケーション実行**
```bash
python main.py
```

### 🚀 Windows向け簡単起動

Windowsユーザーは `gym_tracker_起動.bat` を作成して一発起動可能：

```batch
@echo off
cd /d "C:\path\to\your\gym_tracker"
python main.py
pause
```

## 🏗️ プロジェクト構成

```
gym_tracker/
├── main.py                 # アプリケーションエントリーポイント
├── requirements.txt        # 依存関係
├── README.md              # このファイル
├── database/
│   ├── __init__.py
│   ├── models.py          # データベースモデル定義
│   └── db_manager.py      # データベース操作クラス
├── ui/
│   ├── __init__.py
│   ├── main_window.py     # メインウィンドウ
│   ├── base_tab.py        # タブ基底クラス
│   ├── record_tab.py      # 記録タブ
│   ├── history_tab.py     # 履歴タブ
│   ├── stats_tab.py       # 統計タブ
│   ├── goals_tab.py       # 目標タブ
│   ├── body_stats_tab.py  # 体組成タブ
│   └── body_stats_dialog.py # 体組成入力ダイアログ
├── utils/
│   ├── __init__.py
│   ├── constants.py       # 定数定義
│   ├── calculations.py    # 1RM計算等
│   ├── validation.py      # 入力値検証
│   └── memory_manager.py  # メモリ管理
├── logs/                  # ログファイル（自動作成）
└── backup/               # バックアップファイル（自動作成）
```

## 📱 使用方法

### 1. トレーニング記録
1. 「記録」タブを選択
2. 日付、部位、種目を選択
3. セットごとに重量と回数を入力
4. 前回記録が自動表示される
5. 「保存」ボタンでデータ保存

### 2. 履歴確認
1. 「履歴」タブを選択
2. 過去のトレーニング記録を確認
3. 部位別・種目別フィルタリング
4. 日付範囲・検索での絞り込み
5. ページネーション対応

### 3. 統計・グラフ表示
1. 「統計」タブを選択
2. グラフ種類（1RM推移・重量推移・ボリューム推移・頻度分析・部位別分析）を選択
3. 部位・種目・期間を選択
4. 成長推移を視覚的に確認

### 4. 目標設定・管理
1. 「目標」タブを選択
2. 「目標追加」で新しい目標を設定
3. 進捗状況をプログレスバーで確認
4. 記録から現在重量の自動更新
5. 達成可能な目標の通知機能

### 5. 体組成管理
1. 「体組成」タブを選択
2. 体重・体脂肪率・筋肉量を記録
3. 推移グラフで変化を確認
4. BMI自動計算
5. 前月比変化量表示

## 🗄️ データベース

SQLiteを使用してローカルに`gym_tracker.db`ファイルが作成されます。

### テーブル構造
- **exercises**: 種目マスタ（種目名、バリエーション、カテゴリ）
- **workouts**: ワークアウト（日付、メモ）
- **sets**: セット記録（重量、回数、1RM）
- **goals**: 目標（目標重量、現在重量、期限）
- **body_stats**: 体組成データ（体重、体脂肪率、筋肉量）

### 初期種目データ
35種目以上の豊富な種目データが事前登録済み：
- **胸**: ベンチプレス各種、チェストプレス、フライ系
- **背中**: デッドリフト、ロウ系、プルアップ系
- **脚**: スクワット、レッグプレス、レッグカール等
- **肩**: ショルダープレス各種、レイズ系
- **腕**: カール系、エクステンション系

## 🛡️ エラーハンドリング

- 包括的なエラーハンドリングとログ機能
- ユーザーフレンドリーなエラーメッセージ
- 自動バックアップ機能
- メモリ使用量監視
- データベース整合性チェック

## 🔧 トラブルシューティング

### よくある問題

1. **アプリが起動しない**
   - PySide6がインストールされているか確認
   - Python 3.8以上を使用しているか確認
   - `pip install PySide6 matplotlib psutil`

2. **データが保存されない**
   - ファイル書き込み権限があるか確認
   - データベースファイルが破損していないか確認

3. **グラフが表示されない**
   - matplotlibがインストールされているか確認
   - データが十分に蓄積されているか確認（複数のトレーニング記録が必要）

4. **動作が重い**
   - 大量のデータが蓄積されている場合
   - メモリ使用量の確認（ツール → データベースチェック）

### ログファイル
`logs/`ディレクトリに日付別のログファイルが生成されます。問題が発生した場合はログを確認してください。

### バックアップ
- 「ファイル」→「バックアップ作成」からデータベースのバックアップを作成
- `backup/`フォルダに自動的にタイムスタンプ付きでバックアップが作成されます

## 🎯 開発情報

- **言語**: Python 3.8+
- **GUI**: PySide6 (Qt6)
- **データベース**: SQLite3
- **グラフ**: matplotlib
- **メモリ監視**: psutil
- **開発スタイル**: PEP 8準拠
- **型ヒント**: 使用推奨

## 🚀 パフォーマンス

- **起動時間**: 3秒以内
- **データベースクエリ**: インデックス最適化済み
- **メモリ使用量**: 500MB以下（通常使用時）
- **レスポンシブUI**: 重い処理は別スレッド化

## 📊 統計・グラフ機能詳細

### 利用可能なグラフ
1. **1RM推移**: 種目別の最大挙上重量推移
2. **重量推移**: 最大重量と平均重量の比較
3. **ボリューム推移**: 重量×回数の総量推移
4. **頻度分析**: 曜日別トレーニング頻度
5. **部位別分析**: 部位別セット数の割合（円グラフ）

### 統計情報
- ベスト記録（種目別最大重量・回数・1RM）
- 連続トレーニング日数・最長記録
- 月別トレーニング日数
- 平均重量・総重量

## 🎯 目標管理機能詳細

### 機能
- **月間目標設定**: 種目別の目標重量設定
- **進捗追跡**: プログレスバーでの視覚的表示
- **自動更新**: 最新記録から現在重量を自動更新
- **達成通知**: 達成可能な目標の通知表示
- **目標統計**: 総目標数、達成率、期限管理

## 💊 体組成管理機能詳細

### 記録項目
- **体重**: kg単位、0.1kg刻み
- **体脂肪率**: %単位、0.1%刻み
- **筋肉量**: kg単位、0.1kg刻み
- **BMI**: 自動計算・判定表示

### グラフ機能
- 体重推移グラフ
- 体脂肪率推移グラフ
- 筋肉量推移グラフ
- 全項目比較グラフ

## 📄 ライセンス

MIT License

## 🏆 更新履歴

### v1.0 (2024)
- ✅ 基本機能実装（トレーニング記録・履歴・統計）
- ✅ 高度な目標管理機能
- ✅ 体組成管理機能完全実装
- ✅ 包括的なエラーハンドリング
- ✅ 自動バックアップ機能
- ✅ メモリ管理・パフォーマンス最適化
- ✅ 豊富な初期種目データ（35種目以上）
- ✅ 高度なフィルタリング・検索機能

## 🚀 今後の予定

- **Priority Low**: CSVエクスポート機能
- **Priority Low**: 設定タブの完全実装（テーマ変更など）
- **Future**: データ同期機能
- **Future**: ウェアラブルデバイス連携
- **Future**: 機械学習による停滞期予測

## 🙏 貢献

プルリクエストやイシューの報告を歓迎します！

## 📞 サポート

問題が発生した場合は、以下の情報と共にイシューを作成してください：
- OS情報
- Pythonバージョン
- エラーログ（logs/フォルダ内）
- 再現手順

---

💪 健康的なトレーニングライフを応援します！